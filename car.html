<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car game </title>
</head>

<style>
    #mainStreet
    {
        width: 500px;
        height: 500px;
        background-color: gray;
        margin-left: auto;
        margin-right: auto;
        margin-top: 10px;
        float: left;
    }
    #rightPart
    {
        width: 250px;
        height: 100%;
        float: left;
        background-color: green;
    }
    #leftPart
    {
        width: 250px;
        height: 100%;
        background-color: yellow;
        float: left;
    }

    #controlBoard
    {
        width: 400px;
        height: 50px;
        margin-left: auto;
        margin-right: auto;
        margin-top: 50px;
        text-align: center;
        background-color: black;
        clear: both;
    }
    #car
    {
        margin-left: 100px;
        width: 50px;
        height: 50px;
        background-color: red;
    }
    .streetPart
    {
        width: 250px;
        height: 100px;
        background-color: blue;
    }
    #obstacle
    {
        text-align: center;
        background-color: yellow;
        height: 100%;
    }
    #menu
    {
        width: 300px;
        height: 500px;
        float: left;
        background-color: turquoise;
    }
    #secondMenu
    {
        width: 300px;
        height: 500px;
        float: left;
        background-color: turquoise;
        text-align: center;
    }
</style>

<body>
    <div id="secondMenu">
        <button onclick="nextObstacle();" style="margin-top: 30px;">START</button>
    </div>
    <div id="mainStreet">
        <div id="leftPart">
            <div id="A1" class="streetPart"></div>
            <div id="A2" class="streetPart"></div>
            <div id="A3" class="streetPart"></div>
            <div id="A4" class="streetPart"></div>
            <div id="A5" class="streetPart"></div>
            <div id="A6" class="streetPart">
                <div id="car">Car</div>
            </div>
            <div id="A7" class="streetPart"></div>

        </div>
        <div id="rightPart">
            <div id="B1" class="streetPart"></div>
            <div id="B2" class="streetPart"></div>
            <div id="B3" class="streetPart"></div>
            <div id="B4" class="streetPart"></div>
            <div id="B5" class="streetPart"></div>
            <div id="B6" class="streetPart"></div>
            <div id="B7" class="streetPart"></div>
        </div>
        
    </div>
    <div id="secondMenu">
        <div id="points">Points: </div>
    </div>
    
    <script>

        let obstacleLetter = "B";
        let obstacleNumber = 1;
        let i = 1;
        
        function createObstacle()
        {   
            checkCrash();
            document.getElementById(obstacleLetter + obstacleNumber).innerHTML = "";
            document.getElementById(obstacleLetter + (obstacleNumber + 1)).innerHTML = '<div id="obstacle">X</div>';
            obstacleLetter = obstacleLetter;
            obstacleNumber = obstacleNumber + 1; 
            checkForAgain();
        }

        function checkCrash()
        {
            if(document.getElementById("A5").innerHTML == '<div id="obstacle">X</div>' && document.getElementById("A6").innerHTML == '<div id="car">Car</div>')
            {
                alert("Game Over!");
            }
            if(document.getElementById("B5").innerHTML == '<div id="obstacle">X</div>' && document.getElementById("B6").innerHTML == '<div id="car">Car</div>')
            {
                alert("Game over!!!!");
            }
        }
        function moveObstacle()
        {
            for (i; i < 7; i++) 
            {
                setTimeout(function timer() {
                createObstacle();
                }, i * 500);
            }
        }    

        function goRight()
        {
            if(document.getElementById("B6").innerHTML == '<div id="obstacle">X</div>')
            {
                alert("BOOOM");
            }
            document.getElementById("A6").innerHTML = "";
            document.getElementById("B6").innerHTML = '<div id="car">Car</div>';
        }
        function goLeft()
        {
            if(document.getElementById("A6").innerHTML == '<div id="obstacle">X</div>')
            {
                alert("BOOOM");
            }
            document.getElementById("B6").innerHTML = "";
            document.getElementById("A6").innerHTML = '<div id="car">Car</div>';
        }

        document.onkeydown = function (e)
        {
            switch(e.keyCode)
            {
                case 37:
                    goLeft();
                    break;
                case 39:
                    goRight();
                    break;
            }
        }

        function nextObstacle()
        {
            let randomObstacle = Math.floor(Math.random() * 2) + 1;
            if(randomObstacle == 1)
            {
                document.getElementById("A1").innerHTML == '<div id="obstacle">X</div>';
                obstacleLetter = "A";
            }
            if(randomObstacle == 2)
            {
                obstacleLetter = "B";
            }
            obstacleNumber = 1;
            i = 1;
            moveObstacle();
        }
        
        function checkForAgain()
        {
            if(document.getElementById("B7").innerHTML == '<div id="obstacle">X</div>' || document.getElementById("A7").innerHTML == '<div id="obstacle">X</div>')
            {
                document.getElementById("A7").innerHTML = "";
                document.getElementById("B7").innerHTML = "";
                nextObstacle();
            }
        }

      
    </script>
</body>
</html>